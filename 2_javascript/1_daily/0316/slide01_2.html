<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <script src="slide.js"></script>
  
  <style>
    *{box-sizing: border-box;}
    .slide{
      width:500px; height:310px; margin:0 auto;
      position:relative;
      border:5px solid #000;
      overflow: hidden;
    }
    .slide ul{
      width:100%;     
      position:absolute;margin:0;padding:0;
      left: 0;
      list-style:none;
      transition:.5s;
    }
    .slide ul li{width:100%; position:absolute;}
    .slide ul li img{width:100%; height:300px;}
    .slide p{
      position:absolute;
      top:34%; left:5%;
      width:90%;
      z-index:2;
    }
    .slide p a{
      font-size:0;
      display:block;
      width:60px; height:60px;
      background:#ddd;
      border-radius:100%;
      position:relative;
      text-align:center;
      line-height:50px;
      cursor: pointer;
    }
    .slide p a:first-child{float:left;}
    .slide p a:first-child:after{
      content:'<';
      font-size:30px;        
    }
    .slide p a:last-child{float:right;}
    .slide p a:last-child:after{
      content:'>';
      font-size:30px;        
    }
    .indi{
      position: absolute;
      bottom: 10px; left: 50%;
      z-index: 10
    }
    .indi a{
      width: 15px; height: 15px;
      background: #000;
      display: inline-block;
    }
  </style>
</head>

<body>
  <div class="slide">
    <ul class="slide_ani">
      <li class="s_bn"><img src="../img/img-01.jpg"></li>
      <li class="s_bn"><img src="../img/img-02.jpg"></li>
      <li class="s_bn"><img src="../img/img-03.jpg"></li>
    </ul>
    <p class="btn">
      <a class="prev">prev</a>
      <a class="next">next</a>
    </p>
  </div>

  <script>
    /*
    1. a 태그 클릭한다.
    2. ul 위치를 li 위치만큼 이동한다.
    3. ul이 마지막 li 위치와 같아지면 a 태그 사라진다.
      ul이 마지막 li 위치와 같아지면 a 태그 사라진다.
    */

    var divJs = document.querySelector('.slide');
    var ulJs = divJs.querySelector('.slide_ani');
    var liJs = ulJs.querySelectorAll('.s_bn');
    var prevBtn = document.querySelector('.prev');
    var nextBtn = document.querySelector('.next');
    var idx = 0;

    // li 위치 조정
    for(var i = 0; i < liJs.length; i++) {
      liJs[i].style.left = 100 * i + '%';
    }

    // 오른쪽으로
    nextBtn.addEventListener('click', function() {
      idx++;
      slideMove();
    });

    // 왼쪽으로
    prevBtn.addEventListener('click', function() {
      idx--;
      slideMove();
    });

    function slideMove() {
      ulJs.style.left = -100 * idx + '%';
      btnDisappear();
    }
    
    // 버튼 숨기기
    function btnDisappear() {
      if(idx == 0) {
        prevBtn.style.display = 'none';
      } else if(idx == (liJs.length-1)) {
        nextBtn.style.display = 'none';
      } else {
        prevBtn.style.display = 'block';
        nextBtn.style.display = 'block';
      }
    }
    btnDisappear();

    // 무한 슬라이드
    
  </script>
</body>

</html>
