<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

  <style>
    *{
      margin: 0; padding: 0
    }
    .btn{
      margin: 100px;
      position: relative
    }
    .nav{
      background: #ddd; padding: 100px;
      display: inline-block;
      position: absolute;
      left: -600px; top: 50px;
      transition: .5s
    }
    .btn.active .nav{
      left: 0
    }
  </style>
</head>
<body>
  <div class="basic">
    <button>우측</button>
    <button>좌측</button>

    <div class="box">콘텐츠</div>
  </div>
  <div class="btn">
    <button>메뉴</button>
    <div class="nav">네비게이션</div>
  </div>

  <script>
    $(function() {
      $('.box').css({
        width: 100,
        height: 100,
        background: 'pink'
      });

      // $('button').eq(0).on('click', function() { // eq(0): 첫번째 요소
      //   // var a = 10;
      //   //     a += 2; // +=(할당 연산자): 기존 값 버리지 않고 합산 → a == 12
      //   $('.box').animate({
      //     marginLeft: '+=50'; // '+=50': 객체 안에 값 할당(기존 값에 합산)
      //   }, 500); // 속도
      // });
      // $('button').eq(1).on('click', function() {
      //   $('.box').animate({
      //     marginLeft: '-=50';
      //   }, 500);
      // });

      var count = 0;
      $('.basic button').on('click', function() { // button 모두 선택
        var $this = $(this).index();
        // $this: 엘리먼트 잡는 제이쿼리 변수 선언할 때 $ 사용
        // this.index(): 이벤트 발생하는 대상 index 값 불러올 
        // console.log($this);

        // if($this == 0) {
        //   // 우측
        //   $('.box').animate({
        //     marginLeft: '+=50';
        //   }, 500);
        // } else {
        //   // 좌측
        //   $('.box').animate({
        //     marginLeft: '-=50';
        //   }, 500);
        // }
        if($this == 0) {
          // 우측
          count +=50;
        } else {
          // 좌측
          count -=50;
        }

        $('.box').animate({
            marginLeft: count
        }, 500);
      });

      // $('.btn button').on('click', function() {
      //   console.log($('.nav'));
      //   $('.nav').animate({
      //     left: 0
      //   });
      // });

      // $('.btn button').on('click', function() {
      //   $('.nav').animate({
      //     left: 0
      //   }, 700,function() { // 애니메이션 끝나고 실행할 콜백 함수
      //     $('.btn button').text('닫기');  
      //   });
      // });

      // $('.btn button').on('click', function() {
      //   var posLeft = 0;
      //   var txt = '닫기';

      //   var navTxt = $('.btn button').text();
      //   // console.log(navTxt);
      //   if(navTxt == txt) {
      //     posLeft = -600;
      //     txt = '메뉴';
      //   } /* else {
      //     posLeft = 0;
      //     txt = '닫기'
      //   } */

      //   $('.nav').animate({
      //     left: posLeft
      //   }, 700,function() { // 애니메이션 끝나고 실행할 콜백 함수
      //     $('.btn button').text(txt);  
      //   });
      // });

      $('.btn button').on('click', function() {
        // var posLeft = 0;
        // var txt = '닫기';

        // 방법 1 --------------------------------------------------------
        // var navTxt = $('.btn button').text();
        // // console.log(navTxt);
        // if(navTxt == txt) {
        //   posLeft = -600;
        //   txt = '메뉴';
        // }

        // 방법 2 -------------------------------------------------------
        // $(this).toggleClass('active');

        // if(!$(this).hasClass('active')) {
        //   posLeft = -600;
        //   txt = '메뉴';
        // } 

        // $('.nav').animate({ 
        // 애니메이션 실행할 때 css에 transition 값 주지
        
        //   left: posLeft
        // }, 700,function()
        //   $('.btn button').text(txt);  
        // });

        $('.btn').toggleClass('active');

      });

    });
  </script>
</body>
</html>